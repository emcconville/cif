//
//  CIColor_ColorName.m
//  CLIArguments
//
//  Created by Eric McConville on 6/13/15.
//  Copyright (c) 2015 Eric McConville. All rights reserved.
//

#import "CIColor+X11ColorName.h"


/**
 * @brief Convert four-bit hex (0xF) to number between 0.0 & 1.0
 * @param bit Hex string to be converted
 * @return CGFloat
 */
CGFloat (^fourBitToDouble)(NSString *) = ^(NSString * bit)
{
    unsigned int unsigned_bit;
    [[NSScanner scannerWithString:bit] scanHexInt:&unsigned_bit];
    return unsigned_bit  / 15.0;
};

/**
 * @brief Convert eight-bit hex (0xFF) to number between 0.0 & 1.0
 * @param bits Hex string to be converted
 * @return CGFloat
 */
CGFloat (^eightBitToDouble)(NSString *) = ^(NSString * bits)
{
    unsigned int unsigned_bit;
    [[NSScanner scannerWithString:bits] scanHexInt:&unsigned_bit];
    return unsigned_bit  / 255.0;
};

/**
 * @brief Convert string to normalized number between 0.0 & 1.0.
 * @discussion Accepts strings like `100%', `100', and `1.0'.
 *             Quantum range (ceiling) is defined by ``scale``.
 * @param userNumber The number to evaluate.
 * @param scale The ceiling of the literal number range to evaluate.
 * @return CGFloat between 0.0 & 1.0 (this range is enforced.)
 */
CGFloat (^quantizeNumber)(NSString *, NSNumber *) = ^(NSString * userNumber, NSNumber * scale)
{
    CGFloat quantize = 0.0;

    /** Formatter **/
    NSNumberFormatter * percent = [[NSNumberFormatter alloc] init];
    [percent setNumberStyle:NSNumberFormatterPercentStyle];
    NSNumberFormatter * decimal = [[NSNumberFormatter alloc] init];
    [decimal setNumberStyle:NSNumberFormatterDecimalStyle];

    if ([userNumber hasSuffix:@"%"]) {
        quantize = [[percent numberFromString:userNumber] doubleValue];
    } else if ([userNumber rangeOfString:@"."].location != NSNotFound) {
        quantize = [[decimal numberFromString:userNumber] doubleValue];
    } else {
        quantize = [[decimal numberFromString:userNumber] doubleValue] / [scale doubleValue];
    }

    while (quantize > 1.0) { quantize -= 1.0; }
    while (quantize < 0.0) { quantize += 1.0; }

    return quantize;
};

NSArray * (^colorFunctionToArray)(NSString *) = ^(NSString * input)
{
    NSString * command, * arguments, * chunk;
    NSMutableArray * returnArray = [NSMutableArray array];
    /** Function Scanner **/
    NSCharacterSet * ignore = [NSCharacterSet characterSetWithCharactersInString:@" \t\n\r"];
    NSCharacterSet * open = [NSCharacterSet characterSetWithCharactersInString:@"("];
    NSCharacterSet * close = [NSCharacterSet characterSetWithCharactersInString:@")"];
    NSCharacterSet * comma = [NSCharacterSet characterSetWithCharactersInString:@","];
    NSScanner * numberScanner;
    NSScanner * scanner = [NSScanner scannerWithString:input];
    [scanner setCharactersToBeSkipped:ignore];
    [scanner setCaseSensitive:NO];
    while ([scanner isAtEnd] == NO) {
        [scanner scanUpToCharactersFromSet:open intoString:&command];
        [scanner setScanLocation:[scanner scanLocation] + 1];
        [scanner scanUpToCharactersFromSet:close intoString:&arguments];
        [scanner setScanLocation:[scanner scanLocation] + 1];
        if ( arguments != nil && [arguments length] > 0) {
            [returnArray addObject:command];
            numberScanner = [NSScanner scannerWithString:arguments];
            [numberScanner setCharactersToBeSkipped:ignore];
            while ([numberScanner isAtEnd] == NO) {
                [numberScanner scanUpToCharactersFromSet:comma intoString:&chunk];
                [returnArray addObject:chunk];
                if ([numberScanner isAtEnd] == NO) {
                    [numberScanner setScanLocation:[numberScanner scanLocation] + 1];
                }
            }
        }
    }
    return [returnArray copy];
};


@implementation CIColor (X11ColorName)

+(CIColor *)colorWithName:(NSString *)colorname
{
    NSDictionary * colors = @{
                              @"aliceblue" : @"[0.941176 0.972549 1]",
                              @"antiquewhite" : @"[0.980392 0.921569 0.843137]",
                              @"antiquewhite1" : @"[1 0.937255 0.858824]",
                              @"antiquewhite2" : @"[0.933333 0.87451 0.8]",
                              @"antiquewhite3" : @"[0.803922 0.752941 0.690196]",
                              @"antiquewhite4" : @"[0.545098 0.513725 0.470588]",
                              @"aqua" : @"[0 1 1]", // Same as Cyan
                              @"aquamarine" : @"[0.498039 1 0.831373]",
                              @"aquamarine1" : @"[0.498039 1 0.831373]",
                              @"aquamarine2" : @"[0.462745 0.933333 0.776471]",
                              @"aquamarine3" : @"[0.4 0.803922 0.666667]",
                              @"aquamarine4" : @"[0.270588 0.545098 0.454902]",
                              @"azure" : @"[0.941176 1 1]",
                              @"azure1" : @"[0.941176 1 1]",
                              @"azure2" : @"[0.878431 0.933333 0.933333]",
                              @"azure3" : @"[0.756863 0.803922 0.803922]",
                              @"azure4" : @"[0.513725 0.545098 0.545098]",
                              @"beige" : @"[0.960784 0.960784 0.862745]",
                              @"bisque" : @"[1 0.894118 0.768627]",
                              @"bisque1" : @"[1 0.894118 0.768627]",
                              @"bisque2" : @"[0.933333 0.835294 0.717647]",
                              @"bisque3" : @"[0.803922 0.717647 0.619608]",
                              @"bisque4" : @"[0.545098 0.490196 0.419608]",
                              @"black" : @"[0 0 0]",
                              @"blanchedalmond" : @"[1 0.921569 0.803922]",
                              @"blue" : @"[0 0 1]",
                              @"blue1" : @"[0 0 1]",
                              @"blue2" : @"[0 0 0.933333]",
                              @"blue3" : @"[0 0 0.803922]",
                              @"blue4" : @"[0 0 0.545098]",
                              @"blueviolet" : @"[0.541176 0.168627 0.886275]",
                              @"brown" : @"[0.647059 0.164706 0.164706]",
                              @"brown1" : @"[1 0.25098 0.25098]",
                              @"brown2" : @"[0.933333 0.231373 0.231373]",
                              @"brown3" : @"[0.803922 0.2 0.2]",
                              @"brown4" : @"[0.545098 0.137255 0.137255]",
                              @"burlywood" : @"[0.870588 0.721569 0.529412]",
                              @"burlywood1" : @"[1 0.827451 0.607843]",
                              @"burlywood2" : @"[0.933333 0.772549 0.568627]",
                              @"burlywood3" : @"[0.803922 0.666667 0.490196]",
                              @"burlywood4" : @"[0.545098 0.45098 0.333333]",
                              @"cadetblue" : @"[0.372549 0.619608 0.627451]",
                              @"cadetblue1" : @"[0.596078 0.960784 1]",
                              @"cadetblue2" : @"[0.556863 0.898039 0.933333]",
                              @"cadetblue3" : @"[0.478431 0.772549 0.803922]",
                              @"cadetblue4" : @"[0.32549 0.52549 0.545098]",
                              @"chartreuse" : @"[0.498039 1 0]",
                              @"chartreuse1" : @"[0.498039 1 0]",
                              @"chartreuse2" : @"[0.462745 0.933333 0]",
                              @"chartreuse3" : @"[0.4 0.803922 0]",
                              @"chartreuse4" : @"[0.270588 0.545098 0]",
                              @"chocolate" : @"[0.823529 0.411765 0.117647]",
                              @"chocolate1" : @"[1 0.498039 0.141176]",
                              @"chocolate2" : @"[0.933333 0.462745 0.129412]",
                              @"chocolate3" : @"[0.803922 0.4 0.113725]",
                              @"chocolate4" : @"[0.545098 0.270588 0.0745098]",
                              @"coral" : @"[1 0.498039 0.313725]",
                              @"coral1" : @"[1 0.447059 0.337255]",
                              @"coral2" : @"[0.933333 0.415686 0.313725]",
                              @"coral3" : @"[0.803922 0.356863 0.270588]",
                              @"coral4" : @"[0.545098 0.243137 0.184314]",
                              @"cornflowerblue" : @"[0.392157 0.584314 0.929412]",
                              @"cornsilk" : @"[1 0.972549 0.862745]",
                              @"cornsilk1" : @"[1 0.972549 0.862745]",
                              @"cornsilk2" : @"[0.933333 0.909804 0.803922]",
                              @"cornsilk3" : @"[0.803922 0.784314 0.694118]",
                              @"cornsilk4" : @"[0.545098 0.533333 0.470588]",
                              @"cyan" : @"[0 1 1]",
                              @"cyan1" : @"[0 1 1]",
                              @"cyan2" : @"[0 0.933333 0.933333]",
                              @"cyan3" : @"[0 0.803922 0.803922]",
                              @"cyan4" : @"[0 0.545098 0.545098]",
                              @"darkblue" : @"[0 0 0.545098]",
                              @"darkcyan" : @"[0 0.545098 0.545098]",
                              @"darkgoldenrod" : @"[0.721569 0.52549 0.0431373]",
                              @"darkgoldenrod1" : @"[1 0.72549 0.0588235]",
                              @"darkgoldenrod2" : @"[0.933333 0.678431 0.054902]",
                              @"darkgoldenrod3" : @"[0.803922 0.584314 0.0470588]",
                              @"darkgoldenrod4" : @"[0.545098 0.396078 0.0313725]",
                              @"darkgray" : @"[0.662745 0.662745 0.662745]",
                              @"darkgreen" : @"[0 0.392157 0]",
                              @"darkgrey" : @"[0.662745 0.662745 0.662745]",
                              @"darkkhaki" : @"[0.741176 0.717647 0.419608]",
                              @"darkmagenta" : @"[0.545098 0 0.545098]",
                              @"darkolivegreen" : @"[0.333333 0.419608 0.184314]",
                              @"darkolivegreen1" : @"[0.792157 1 0.439216]",
                              @"darkolivegreen2" : @"[0.737255 0.933333 0.407843]",
                              @"darkolivegreen3" : @"[0.635294 0.803922 0.352941]",
                              @"darkolivegreen4" : @"[0.431373 0.545098 0.239216]",
                              @"darkorange" : @"[1 0.54902 0]",
                              @"darkorange1" : @"[1 0.498039 0]",
                              @"darkorange2" : @"[0.933333 0.462745 0]",
                              @"darkorange3" : @"[0.803922 0.4 0]",
                              @"darkorange4" : @"[0.545098 0.270588 0]",
                              @"darkorchid" : @"[0.6 0.196078 0.8]",
                              @"darkorchid1" : @"[0.74902 0.243137 1]",
                              @"darkorchid2" : @"[0.698039 0.227451 0.933333]",
                              @"darkorchid3" : @"[0.603922 0.196078 0.803922]",
                              @"darkorchid4" : @"[0.407843 0.133333 0.545098]",
                              @"darkred" : @"[0.545098 0 0]",
                              @"darksalmon" : @"[0.913725 0.588235 0.478431]",
                              @"darkseagreen" : @"[0.560784 0.737255 0.560784]",
                              @"darkseagreen1" : @"[0.756863 1 0.756863]",
                              @"darkseagreen2" : @"[0.705882 0.933333 0.705882]",
                              @"darkseagreen3" : @"[0.607843 0.803922 0.607843]",
                              @"darkseagreen4" : @"[0.411765 0.545098 0.411765]",
                              @"darkslateblue" : @"[0.282353 0.239216 0.545098]",
                              @"darkslategray" : @"[0.184314 0.309804 0.309804]",
                              @"darkslategray1" : @"[0.592157 1 1]",
                              @"darkslategray2" : @"[0.552941 0.933333 0.933333]",
                              @"darkslategray3" : @"[0.47451 0.803922 0.803922]",
                              @"darkslategray4" : @"[0.321569 0.545098 0.545098]",
                              @"darkslategrey" : @"[0.184314 0.309804 0.309804]",
                              @"darkturquoise" : @"[0 0.807843 0.819608]",
                              @"darkviolet" : @"[0.580392 0 0.827451]",
                              @"deeppink" : @"[1 0.0784314 0.576471]",
                              @"deeppink1" : @"[1 0.0784314 0.576471]",
                              @"deeppink2" : @"[0.933333 0.0705882 0.537255]",
                              @"deeppink3" : @"[0.803922 0.0627451 0.462745]",
                              @"deeppink4" : @"[0.545098 0.0392157 0.313725]",
                              @"deepskyblue" : @"[0 0.74902 1]",
                              @"deepskyblue1" : @"[0 0.74902 1]",
                              @"deepskyblue2" : @"[0 0.698039 0.933333]",
                              @"deepskyblue3" : @"[0 0.603922 0.803922]",
                              @"deepskyblue4" : @"[0 0.407843 0.545098]",
                              @"dimgray" : @"[0.411765 0.411765 0.411765]",
                              @"dimgrey" : @"[0.411765 0.411765 0.411765]",
                              @"dodgerblue" : @"[0.117647 0.564706 1]",
                              @"dodgerblue1" : @"[0.117647 0.564706 1]",
                              @"dodgerblue2" : @"[0.109804 0.52549 0.933333]",
                              @"dodgerblue3" : @"[0.0941176 0.454902 0.803922]",
                              @"dodgerblue4" : @"[0.0627451 0.305882 0.545098]",
                              @"firebrick" : @"[0.698039 0.133333 0.133333]",
                              @"firebrick1" : @"[1 0.188235 0.188235]",
                              @"firebrick2" : @"[0.933333 0.172549 0.172549]",
                              @"firebrick3" : @"[0.803922 0.14902 0.14902]",
                              @"firebrick4" : @"[0.545098 0.101961 0.101961]",
                              @"floralwhite" : @"[1 0.980392 0.941176]",
                              @"forestgreen" : @"[0.133333 0.545098 0.133333]",
                              @"fuchsia" : @"[1 0 1]", // Alias to magenta
                              @"gainsboro" : @"[0.862745 0.862745 0.862745]",
                              @"ghostwhite" : @"[0.972549 0.972549 1]",
                              @"gold" : @"[1 0.843137 0]",
                              @"gold1" : @"[1 0.843137 0]",
                              @"gold2" : @"[0.933333 0.788235 0]",
                              @"gold3" : @"[0.803922 0.678431 0]",
                              @"gold4" : @"[0.545098 0.458824 0]",
                              @"goldenrod" : @"[0.854902 0.647059 0.12549]",
                              @"goldenrod1" : @"[1 0.756863 0.145098]",
                              @"goldenrod2" : @"[0.933333 0.705882 0.133333]",
                              @"goldenrod3" : @"[0.803922 0.607843 0.113725]",
                              @"goldenrod4" : @"[0.545098 0.411765 0.0784314]",
                              @"gray" : @"[0.745098 0.745098 0.745098]",
                              @"gray0" : @"[0 0 0]",
                              @"gray1" : @"[0.0117647 0.0117647 0.0117647]",
                              @"gray10" : @"[0.101961 0.101961 0.101961]",
                              @"gray100" : @"[1 1 1]",
                              @"gray11" : @"[0.109804 0.109804 0.109804]",
                              @"gray12" : @"[0.121569 0.121569 0.121569]",
                              @"gray13" : @"[0.129412 0.129412 0.129412]",
                              @"gray14" : @"[0.141176 0.141176 0.141176]",
                              @"gray15" : @"[0.14902 0.14902 0.14902]",
                              @"gray16" : @"[0.160784 0.160784 0.160784]",
                              @"gray17" : @"[0.168627 0.168627 0.168627]",
                              @"gray18" : @"[0.180392 0.180392 0.180392]",
                              @"gray19" : @"[0.188235 0.188235 0.188235]",
                              @"gray2" : @"[0.0196078 0.0196078 0.0196078]",
                              @"gray20" : @"[0.2 0.2 0.2]",
                              @"gray21" : @"[0.211765 0.211765 0.211765]",
                              @"gray22" : @"[0.219608 0.219608 0.219608]",
                              @"gray23" : @"[0.231373 0.231373 0.231373]",
                              @"gray24" : @"[0.239216 0.239216 0.239216]",
                              @"gray25" : @"[0.25098 0.25098 0.25098]",
                              @"gray26" : @"[0.258824 0.258824 0.258824]",
                              @"gray27" : @"[0.270588 0.270588 0.270588]",
                              @"gray28" : @"[0.278431 0.278431 0.278431]",
                              @"gray29" : @"[0.290196 0.290196 0.290196]",
                              @"gray3" : @"[0.0313725 0.0313725 0.0313725]",
                              @"gray30" : @"[0.301961 0.301961 0.301961]",
                              @"gray31" : @"[0.309804 0.309804 0.309804]",
                              @"gray32" : @"[0.321569 0.321569 0.321569]",
                              @"gray33" : @"[0.329412 0.329412 0.329412]",
                              @"gray34" : @"[0.341176 0.341176 0.341176]",
                              @"gray35" : @"[0.34902 0.34902 0.34902]",
                              @"gray36" : @"[0.360784 0.360784 0.360784]",
                              @"gray37" : @"[0.368627 0.368627 0.368627]",
                              @"gray38" : @"[0.380392 0.380392 0.380392]",
                              @"gray39" : @"[0.388235 0.388235 0.388235]",
                              @"gray4" : @"[0.0392157 0.0392157 0.0392157]",
                              @"gray40" : @"[0.4 0.4 0.4]",
                              @"gray41" : @"[0.411765 0.411765 0.411765]",
                              @"gray42" : @"[0.419608 0.419608 0.419608]",
                              @"gray43" : @"[0.431373 0.431373 0.431373]",
                              @"gray44" : @"[0.439216 0.439216 0.439216]",
                              @"gray45" : @"[0.45098 0.45098 0.45098]",
                              @"gray46" : @"[0.458824 0.458824 0.458824]",
                              @"gray47" : @"[0.470588 0.470588 0.470588]",
                              @"gray48" : @"[0.478431 0.478431 0.478431]",
                              @"gray49" : @"[0.490196 0.490196 0.490196]",
                              @"gray5" : @"[0.0509804 0.0509804 0.0509804]",
                              @"gray50" : @"[0.498039 0.498039 0.498039]",
                              @"gray51" : @"[0.509804 0.509804 0.509804]",
                              @"gray52" : @"[0.521569 0.521569 0.521569]",
                              @"gray53" : @"[0.529412 0.529412 0.529412]",
                              @"gray54" : @"[0.541176 0.541176 0.541176]",
                              @"gray55" : @"[0.54902 0.54902 0.54902]",
                              @"gray56" : @"[0.560784 0.560784 0.560784]",
                              @"gray57" : @"[0.568627 0.568627 0.568627]",
                              @"gray58" : @"[0.580392 0.580392 0.580392]",
                              @"gray59" : @"[0.588235 0.588235 0.588235]",
                              @"gray6" : @"[0.0588235 0.0588235 0.0588235]",
                              @"gray60" : @"[0.6 0.6 0.6]",
                              @"gray61" : @"[0.611765 0.611765 0.611765]",
                              @"gray62" : @"[0.619608 0.619608 0.619608]",
                              @"gray63" : @"[0.631373 0.631373 0.631373]",
                              @"gray64" : @"[0.639216 0.639216 0.639216]",
                              @"gray65" : @"[0.65098 0.65098 0.65098]",
                              @"gray66" : @"[0.658824 0.658824 0.658824]",
                              @"gray67" : @"[0.670588 0.670588 0.670588]",
                              @"gray68" : @"[0.678431 0.678431 0.678431]",
                              @"gray69" : @"[0.690196 0.690196 0.690196]",
                              @"gray7" : @"[0.0705882 0.0705882 0.0705882]",
                              @"gray70" : @"[0.701961 0.701961 0.701961]",
                              @"gray71" : @"[0.709804 0.709804 0.709804]",
                              @"gray72" : @"[0.721569 0.721569 0.721569]",
                              @"gray73" : @"[0.729412 0.729412 0.729412]",
                              @"gray74" : @"[0.741176 0.741176 0.741176]",
                              @"gray75" : @"[0.74902 0.74902 0.74902]",
                              @"gray76" : @"[0.760784 0.760784 0.760784]",
                              @"gray77" : @"[0.768627 0.768627 0.768627]",
                              @"gray78" : @"[0.780392 0.780392 0.780392]",
                              @"gray79" : @"[0.788235 0.788235 0.788235]",
                              @"gray8" : @"[0.0784314 0.0784314 0.0784314]",
                              @"gray80" : @"[0.8 0.8 0.8]",
                              @"gray81" : @"[0.811765 0.811765 0.811765]",
                              @"gray82" : @"[0.819608 0.819608 0.819608]",
                              @"gray83" : @"[0.831373 0.831373 0.831373]",
                              @"gray84" : @"[0.839216 0.839216 0.839216]",
                              @"gray85" : @"[0.85098 0.85098 0.85098]",
                              @"gray86" : @"[0.858824 0.858824 0.858824]",
                              @"gray87" : @"[0.870588 0.870588 0.870588]",
                              @"gray88" : @"[0.878431 0.878431 0.878431]",
                              @"gray89" : @"[0.890196 0.890196 0.890196]",
                              @"gray9" : @"[0.0901961 0.0901961 0.0901961]",
                              @"gray90" : @"[0.898039 0.898039 0.898039]",
                              @"gray91" : @"[0.909804 0.909804 0.909804]",
                              @"gray92" : @"[0.921569 0.921569 0.921569]",
                              @"gray93" : @"[0.929412 0.929412 0.929412]",
                              @"gray94" : @"[0.941176 0.941176 0.941176]",
                              @"gray95" : @"[0.94902 0.94902 0.94902]",
                              @"gray96" : @"[0.960784 0.960784 0.960784]",
                              @"gray97" : @"[0.968627 0.968627 0.968627]",
                              @"gray98" : @"[0.980392 0.980392 0.980392]",
                              @"gray99" : @"[0.988235 0.988235 0.988235]",
                              @"green" : @"[0 1 0]",
                              @"green1" : @"[0 1 0]",
                              @"green2" : @"[0 0.933333 0]",
                              @"green3" : @"[0 0.803922 0]",
                              @"green4" : @"[0 0.545098 0]",
                              @"greenyellow" : @"[0.678431 1 0.184314]",
                              @"grey" : @"[0.745098 0.745098 0.745098]",
                              @"grey0" : @"[0 0 0]",
                              @"grey1" : @"[0.0117647 0.0117647 0.0117647]",
                              @"grey10" : @"[0.101961 0.101961 0.101961]",
                              @"grey100" : @"[1 1 1]",
                              @"grey11" : @"[0.109804 0.109804 0.109804]",
                              @"grey12" : @"[0.121569 0.121569 0.121569]",
                              @"grey13" : @"[0.129412 0.129412 0.129412]",
                              @"grey14" : @"[0.141176 0.141176 0.141176]",
                              @"grey15" : @"[0.14902 0.14902 0.14902]",
                              @"grey16" : @"[0.160784 0.160784 0.160784]",
                              @"grey17" : @"[0.168627 0.168627 0.168627]",
                              @"grey18" : @"[0.180392 0.180392 0.180392]",
                              @"grey19" : @"[0.188235 0.188235 0.188235]",
                              @"grey2" : @"[0.0196078 0.0196078 0.0196078]",
                              @"grey20" : @"[0.2 0.2 0.2]",
                              @"grey21" : @"[0.211765 0.211765 0.211765]",
                              @"grey22" : @"[0.219608 0.219608 0.219608]",
                              @"grey23" : @"[0.231373 0.231373 0.231373]",
                              @"grey24" : @"[0.239216 0.239216 0.239216]",
                              @"grey25" : @"[0.25098 0.25098 0.25098]",
                              @"grey26" : @"[0.258824 0.258824 0.258824]",
                              @"grey27" : @"[0.270588 0.270588 0.270588]",
                              @"grey28" : @"[0.278431 0.278431 0.278431]",
                              @"grey29" : @"[0.290196 0.290196 0.290196]",
                              @"grey3" : @"[0.0313725 0.0313725 0.0313725]",
                              @"grey30" : @"[0.301961 0.301961 0.301961]",
                              @"grey31" : @"[0.309804 0.309804 0.309804]",
                              @"grey32" : @"[0.321569 0.321569 0.321569]",
                              @"grey33" : @"[0.329412 0.329412 0.329412]",
                              @"grey34" : @"[0.341176 0.341176 0.341176]",
                              @"grey35" : @"[0.34902 0.34902 0.34902]",
                              @"grey36" : @"[0.360784 0.360784 0.360784]",
                              @"grey37" : @"[0.368627 0.368627 0.368627]",
                              @"grey38" : @"[0.380392 0.380392 0.380392]",
                              @"grey39" : @"[0.388235 0.388235 0.388235]",
                              @"grey4" : @"[0.0392157 0.0392157 0.0392157]",
                              @"grey40" : @"[0.4 0.4 0.4]",
                              @"grey41" : @"[0.411765 0.411765 0.411765]",
                              @"grey42" : @"[0.419608 0.419608 0.419608]",
                              @"grey43" : @"[0.431373 0.431373 0.431373]",
                              @"grey44" : @"[0.439216 0.439216 0.439216]",
                              @"grey45" : @"[0.45098 0.45098 0.45098]",
                              @"grey46" : @"[0.458824 0.458824 0.458824]",
                              @"grey47" : @"[0.470588 0.470588 0.470588]",
                              @"grey48" : @"[0.478431 0.478431 0.478431]",
                              @"grey49" : @"[0.490196 0.490196 0.490196]",
                              @"grey5" : @"[0.0509804 0.0509804 0.0509804]",
                              @"grey50" : @"[0.498039 0.498039 0.498039]",
                              @"grey51" : @"[0.509804 0.509804 0.509804]",
                              @"grey52" : @"[0.521569 0.521569 0.521569]",
                              @"grey53" : @"[0.529412 0.529412 0.529412]",
                              @"grey54" : @"[0.541176 0.541176 0.541176]",
                              @"grey55" : @"[0.54902 0.54902 0.54902]",
                              @"grey56" : @"[0.560784 0.560784 0.560784]",
                              @"grey57" : @"[0.568627 0.568627 0.568627]",
                              @"grey58" : @"[0.580392 0.580392 0.580392]",
                              @"grey59" : @"[0.588235 0.588235 0.588235]",
                              @"grey6" : @"[0.0588235 0.0588235 0.0588235]",
                              @"grey60" : @"[0.6 0.6 0.6]",
                              @"grey61" : @"[0.611765 0.611765 0.611765]",
                              @"grey62" : @"[0.619608 0.619608 0.619608]",
                              @"grey63" : @"[0.631373 0.631373 0.631373]",
                              @"grey64" : @"[0.639216 0.639216 0.639216]",
                              @"grey65" : @"[0.65098 0.65098 0.65098]",
                              @"grey66" : @"[0.658824 0.658824 0.658824]",
                              @"grey67" : @"[0.670588 0.670588 0.670588]",
                              @"grey68" : @"[0.678431 0.678431 0.678431]",
                              @"grey69" : @"[0.690196 0.690196 0.690196]",
                              @"grey7" : @"[0.0705882 0.0705882 0.0705882]",
                              @"grey70" : @"[0.701961 0.701961 0.701961]",
                              @"grey71" : @"[0.709804 0.709804 0.709804]",
                              @"grey72" : @"[0.721569 0.721569 0.721569]",
                              @"grey73" : @"[0.729412 0.729412 0.729412]",
                              @"grey74" : @"[0.741176 0.741176 0.741176]",
                              @"grey75" : @"[0.74902 0.74902 0.74902]",
                              @"grey76" : @"[0.760784 0.760784 0.760784]",
                              @"grey77" : @"[0.768627 0.768627 0.768627]",
                              @"grey78" : @"[0.780392 0.780392 0.780392]",
                              @"grey79" : @"[0.788235 0.788235 0.788235]",
                              @"grey8" : @"[0.0784314 0.0784314 0.0784314]",
                              @"grey80" : @"[0.8 0.8 0.8]",
                              @"grey81" : @"[0.811765 0.811765 0.811765]",
                              @"grey82" : @"[0.819608 0.819608 0.819608]",
                              @"grey83" : @"[0.831373 0.831373 0.831373]",
                              @"grey84" : @"[0.839216 0.839216 0.839216]",
                              @"grey85" : @"[0.85098 0.85098 0.85098]",
                              @"grey86" : @"[0.858824 0.858824 0.858824]",
                              @"grey87" : @"[0.870588 0.870588 0.870588]",
                              @"grey88" : @"[0.878431 0.878431 0.878431]",
                              @"grey89" : @"[0.890196 0.890196 0.890196]",
                              @"grey9" : @"[0.0901961 0.0901961 0.0901961]",
                              @"grey90" : @"[0.898039 0.898039 0.898039]",
                              @"grey91" : @"[0.909804 0.909804 0.909804]",
                              @"grey92" : @"[0.921569 0.921569 0.921569]",
                              @"grey93" : @"[0.929412 0.929412 0.929412]",
                              @"grey94" : @"[0.941176 0.941176 0.941176]",
                              @"grey95" : @"[0.94902 0.94902 0.94902]",
                              @"grey96" : @"[0.960784 0.960784 0.960784]",
                              @"grey97" : @"[0.968627 0.968627 0.968627]",
                              @"grey98" : @"[0.980392 0.980392 0.980392]",
                              @"grey99" : @"[0.988235 0.988235 0.988235]",
                              @"honeydew" : @"[0.941176 1 0.941176]",
                              @"honeydew1" : @"[0.941176 1 0.941176]",
                              @"honeydew2" : @"[0.878431 0.933333 0.878431]",
                              @"honeydew3" : @"[0.756863 0.803922 0.756863]",
                              @"honeydew4" : @"[0.513725 0.545098 0.513725]",
                              @"hotpink" : @"[1 0.411765 0.705882]",
                              @"hotpink1" : @"[1 0.431373 0.705882]",
                              @"hotpink2" : @"[0.933333 0.415686 0.654902]",
                              @"hotpink3" : @"[0.803922 0.376471 0.564706]",
                              @"hotpink4" : @"[0.545098 0.227451 0.384314]",
                              @"indianred" : @"[0.803922 0.360784 0.360784]",
                              @"indianred1" : @"[1 0.415686 0.415686]",
                              @"indianred2" : @"[0.933333 0.388235 0.388235]",
                              @"indianred3" : @"[0.803922 0.333333 0.333333]",
                              @"indianred4" : @"[0.545098 0.227451 0.227451]",
                              @"ivory" : @"[1 1 0.941176]",
                              @"ivory1" : @"[1 1 0.941176]",
                              @"ivory2" : @"[0.933333 0.933333 0.878431]",
                              @"ivory3" : @"[0.803922 0.803922 0.756863]",
                              @"ivory4" : @"[0.545098 0.545098 0.513725]",
                              @"khaki" : @"[0.941176 0.901961 0.54902]",
                              @"khaki1" : @"[1 0.964706 0.560784]",
                              @"khaki2" : @"[0.933333 0.901961 0.521569]",
                              @"khaki3" : @"[0.803922 0.776471 0.45098]",
                              @"khaki4" : @"[0.545098 0.52549 0.305882]",
                              @"lavender" : @"[0.901961 0.901961 0.980392]",
                              @"lavenderblush" : @"[1 0.941176 0.960784]",
                              @"lavenderblush1" : @"[1 0.941176 0.960784]",
                              @"lavenderblush2" : @"[0.933333 0.878431 0.898039]",
                              @"lavenderblush3" : @"[0.803922 0.756863 0.772549]",
                              @"lavenderblush4" : @"[0.545098 0.513725 0.52549]",
                              @"lawngreen" : @"[0.486275 0.988235 0]",
                              @"lemonchiffon" : @"[1 0.980392 0.803922]",
                              @"lemonchiffon1" : @"[1 0.980392 0.803922]",
                              @"lemonchiffon2" : @"[0.933333 0.913725 0.74902]",
                              @"lemonchiffon3" : @"[0.803922 0.788235 0.647059]",
                              @"lemonchiffon4" : @"[0.545098 0.537255 0.439216]",
                              @"lightblue" : @"[0.678431 0.847059 0.901961]",
                              @"lightblue1" : @"[0.74902 0.937255 1]",
                              @"lightblue2" : @"[0.698039 0.87451 0.933333]",
                              @"lightblue3" : @"[0.603922 0.752941 0.803922]",
                              @"lightblue4" : @"[0.407843 0.513725 0.545098]",
                              @"lightcoral" : @"[0.941176 0.501961 0.501961]",
                              @"lightcyan" : @"[0.878431 1 1]",
                              @"lightcyan1" : @"[0.878431 1 1]",
                              @"lightcyan2" : @"[0.819608 0.933333 0.933333]",
                              @"lightcyan3" : @"[0.705882 0.803922 0.803922]",
                              @"lightcyan4" : @"[0.478431 0.545098 0.545098]",
                              @"lightgoldenrod" : @"[0.933333 0.866667 0.509804]",
                              @"lightgoldenrod1" : @"[1 0.92549 0.545098]",
                              @"lightgoldenrod2" : @"[0.933333 0.862745 0.509804]",
                              @"lightgoldenrod3" : @"[0.803922 0.745098 0.439216]",
                              @"lightgoldenrod4" : @"[0.545098 0.505882 0.298039]",
                              @"lightgoldenrodyellow" : @"[0.980392 0.980392 0.823529]",
                              @"lightgray" : @"[0.827451 0.827451 0.827451]",
                              @"lightgreen" : @"[0.564706 0.933333 0.564706]",
                              @"lightgrey" : @"[0.827451 0.827451 0.827451]",
                              @"lightpink" : @"[1 0.713725 0.756863]",
                              @"lightpink1" : @"[1 0.682353 0.72549]",
                              @"lightpink2" : @"[0.933333 0.635294 0.678431]",
                              @"lightpink3" : @"[0.803922 0.54902 0.584314]",
                              @"lightpink4" : @"[0.545098 0.372549 0.396078]",
                              @"lightsalmon" : @"[1 0.627451 0.478431]",
                              @"lightsalmon1" : @"[1 0.627451 0.478431]",
                              @"lightsalmon2" : @"[0.933333 0.584314 0.447059]",
                              @"lightsalmon3" : @"[0.803922 0.505882 0.384314]",
                              @"lightsalmon4" : @"[0.545098 0.341176 0.258824]",
                              @"lightseagreen" : @"[0.12549 0.698039 0.666667]",
                              @"lightskyblue" : @"[0.529412 0.807843 0.980392]",
                              @"lightskyblue1" : @"[0.690196 0.886275 1]",
                              @"lightskyblue2" : @"[0.643137 0.827451 0.933333]",
                              @"lightskyblue3" : @"[0.552941 0.713725 0.803922]",
                              @"lightskyblue4" : @"[0.376471 0.482353 0.545098]",
                              @"lightslateblue" : @"[0.517647 0.439216 1]",
                              @"lightslategray" : @"[0.466667 0.533333 0.6]",
                              @"lightslategrey" : @"[0.466667 0.533333 0.6]",
                              @"lightsteelblue" : @"[0.690196 0.768627 0.870588]",
                              @"lightsteelblue1" : @"[0.792157 0.882353 1]",
                              @"lightsteelblue2" : @"[0.737255 0.823529 0.933333]",
                              @"lightsteelblue3" : @"[0.635294 0.709804 0.803922]",
                              @"lightsteelblue4" : @"[0.431373 0.482353 0.545098]",
                              @"lightyellow" : @"[1 1 0.878431]",
                              @"lightyellow1" : @"[1 1 0.878431]",
                              @"lightyellow2" : @"[0.933333 0.933333 0.819608]",
                              @"lightyellow3" : @"[0.803922 0.803922 0.705882]",
                              @"lightyellow4" : @"[0.545098 0.545098 0.478431]",
                              @"lime" : @"[0 1 0]",
                              @"limegreen" : @"[0.196078 0.803922 0.196078]",
                              @"linen" : @"[0.980392 0.941176 0.901961]",
                              @"magenta" : @"[1 0 1]",
                              @"magenta1" : @"[1 0 1]",
                              @"magenta2" : @"[0.933333 0 0.933333]",
                              @"magenta3" : @"[0.803922 0 0.803922]",
                              @"magenta4" : @"[0.545098 0 0.545098]",
                              @"maroon" : @"[0.690196 0.188235 0.376471]",
                              @"maroon1" : @"[1 0.203922 0.701961]",
                              @"maroon2" : @"[0.933333 0.188235 0.654902]",
                              @"maroon3" : @"[0.803922 0.160784 0.564706]",
                              @"maroon4" : @"[0.545098 0.109804 0.384314]",
                              @"mediumaquamarine" : @"[0.4 0.803922 0.666667]",
                              @"mediumblue" : @"[0 0 0.803922]",
                              @"mediumorchid" : @"[0.729412 0.333333 0.827451]",
                              @"mediumorchid1" : @"[0.878431 0.4 1]",
                              @"mediumorchid2" : @"[0.819608 0.372549 0.933333]",
                              @"mediumorchid3" : @"[0.705882 0.321569 0.803922]",
                              @"mediumorchid4" : @"[0.478431 0.215686 0.545098]",
                              @"mediumpurple" : @"[0.576471 0.439216 0.858824]",
                              @"mediumpurple1" : @"[0.670588 0.509804 1]",
                              @"mediumpurple2" : @"[0.623529 0.47451 0.933333]",
                              @"mediumpurple3" : @"[0.537255 0.407843 0.803922]",
                              @"mediumpurple4" : @"[0.364706 0.278431 0.545098]",
                              @"mediumseagreen" : @"[0.235294 0.701961 0.443137]",
                              @"mediumslateblue" : @"[0.482353 0.407843 0.933333]",
                              @"mediumspringgreen" : @"[0 0.980392 0.603922]",
                              @"mediumturquoise" : @"[0.282353 0.819608 0.8]",
                              @"mediumvioletred" : @"[0.780392 0.0823529 0.521569]",
                              @"midnightblue" : @"[0.0980392 0.0980392 0.439216]",
                              @"mintcream" : @"[0.960784 1 0.980392]",
                              @"mistyrose" : @"[1 0.894118 0.882353]",
                              @"mistyrose1" : @"[1 0.894118 0.882353]",
                              @"mistyrose2" : @"[0.933333 0.835294 0.823529]",
                              @"mistyrose3" : @"[0.803922 0.717647 0.709804]",
                              @"mistyrose4" : @"[0.545098 0.490196 0.482353]",
                              @"moccasin" : @"[1 0.894118 0.709804]",
                              @"navajowhite" : @"[1 0.870588 0.678431]",
                              @"navajowhite1" : @"[1 0.870588 0.678431]",
                              @"navajowhite2" : @"[0.933333 0.811765 0.631373]",
                              @"navajowhite3" : @"[0.803922 0.701961 0.545098]",
                              @"navajowhite4" : @"[0.545098 0.47451 0.368627]",
                              @"navy" : @"[0 0 0.501961]",
                              @"navyblue" : @"[0 0 0.501961]",
                              @"oldlace" : @"[0.992157 0.960784 0.901961]",
                              @"olivedrab" : @"[0.419608 0.556863 0.137255]",
                              @"olivedrab1" : @"[0.752941 1 0.243137]",
                              @"olivedrab2" : @"[0.701961 0.933333 0.227451]",
                              @"olivedrab3" : @"[0.603922 0.803922 0.196078]",
                              @"olivedrab4" : @"[0.411765 0.545098 0.133333]",
                              @"orange" : @"[1 0.647059 0]",
                              @"orange1" : @"[1 0.647059 0]",
                              @"orange2" : @"[0.933333 0.603922 0]",
                              @"orange3" : @"[0.803922 0.521569 0]",
                              @"orange4" : @"[0.545098 0.352941 0]",
                              @"orangered" : @"[1 0.270588 0]",
                              @"orangered1" : @"[1 0.270588 0]",
                              @"orangered2" : @"[0.933333 0.25098 0]",
                              @"orangered3" : @"[0.803922 0.215686 0]",
                              @"orangered4" : @"[0.545098 0.145098 0]",
                              @"orchid" : @"[0.854902 0.439216 0.839216]",
                              @"orchid1" : @"[1 0.513725 0.980392]",
                              @"orchid2" : @"[0.933333 0.478431 0.913725]",
                              @"orchid3" : @"[0.803922 0.411765 0.788235]",
                              @"orchid4" : @"[0.545098 0.278431 0.537255]",
                              @"palegoldenrod" : @"[0.933333 0.909804 0.666667]",
                              @"palegreen" : @"[0.596078 0.984314 0.596078]",
                              @"palegreen1" : @"[0.603922 1 0.603922]",
                              @"palegreen2" : @"[0.564706 0.933333 0.564706]",
                              @"palegreen3" : @"[0.486275 0.803922 0.486275]",
                              @"palegreen4" : @"[0.329412 0.545098 0.329412]",
                              @"paleturquoise" : @"[0.686275 0.933333 0.933333]",
                              @"paleturquoise1" : @"[0.733333 1 1]",
                              @"paleturquoise2" : @"[0.682353 0.933333 0.933333]",
                              @"paleturquoise3" : @"[0.588235 0.803922 0.803922]",
                              @"paleturquoise4" : @"[0.4 0.545098 0.545098]",
                              @"palevioletred" : @"[0.858824 0.439216 0.576471]",
                              @"palevioletred1" : @"[1 0.509804 0.670588]",
                              @"palevioletred2" : @"[0.933333 0.47451 0.623529]",
                              @"palevioletred3" : @"[0.803922 0.407843 0.537255]",
                              @"palevioletred4" : @"[0.545098 0.278431 0.364706]",
                              @"papayawhip" : @"[1 0.937255 0.835294]",
                              @"peachpuff" : @"[1 0.854902 0.72549]",
                              @"peachpuff1" : @"[1 0.854902 0.72549]",
                              @"peachpuff2" : @"[0.933333 0.796078 0.678431]",
                              @"peachpuff3" : @"[0.803922 0.686275 0.584314]",
                              @"peachpuff4" : @"[0.545098 0.466667 0.396078]",
                              @"peru" : @"[0.803922 0.521569 0.247059]",
                              @"pink" : @"[1 0.752941 0.796078]",
                              @"pink1" : @"[1 0.709804 0.772549]",
                              @"pink2" : @"[0.933333 0.662745 0.721569]",
                              @"pink3" : @"[0.803922 0.568627 0.619608]",
                              @"pink4" : @"[0.545098 0.388235 0.423529]",
                              @"plum" : @"[0.866667 0.627451 0.866667]",
                              @"plum1" : @"[1 0.733333 1]",
                              @"plum2" : @"[0.933333 0.682353 0.933333]",
                              @"plum3" : @"[0.803922 0.588235 0.803922]",
                              @"plum4" : @"[0.545098 0.4 0.545098]",
                              @"powderblue" : @"[0.690196 0.878431 0.901961]",
                              @"purple" : @"[0.627451 0.12549 0.941176]",
                              @"purple1" : @"[0.607843 0.188235 1]",
                              @"purple2" : @"[0.568627 0.172549 0.933333]",
                              @"purple3" : @"[0.490196 0.14902 0.803922]",
                              @"purple4" : @"[0.333333 0.101961 0.545098]",
                              @"rebeccapurple" : @"[0.4 0.2 0.6]", // Respect
                              @"red" : @"[1 0 0]",
                              @"red1" : @"[1 0 0]",
                              @"red2" : @"[0.933333 0 0]",
                              @"red3" : @"[0.803922 0 0]",
                              @"red4" : @"[0.545098 0 0]",
                              @"rosybrown" : @"[0.737255 0.560784 0.560784]",
                              @"rosybrown1" : @"[1 0.756863 0.756863]",
                              @"rosybrown2" : @"[0.933333 0.705882 0.705882]",
                              @"rosybrown3" : @"[0.803922 0.607843 0.607843]",
                              @"rosybrown4" : @"[0.545098 0.411765 0.411765]",
                              @"royalblue" : @"[0.254902 0.411765 0.882353]",
                              @"royalblue1" : @"[0.282353 0.462745 1]",
                              @"royalblue2" : @"[0.262745 0.431373 0.933333]",
                              @"royalblue3" : @"[0.227451 0.372549 0.803922]",
                              @"royalblue4" : @"[0.152941 0.25098 0.545098]",
                              @"saddlebrown" : @"[0.545098 0.270588 0.0745098]",
                              @"salmon" : @"[0.980392 0.501961 0.447059]",
                              @"salmon1" : @"[1 0.54902 0.411765]",
                              @"salmon2" : @"[0.933333 0.509804 0.384314]",
                              @"salmon3" : @"[0.803922 0.439216 0.329412]",
                              @"salmon4" : @"[0.545098 0.298039 0.223529]",
                              @"sandybrown" : @"[0.956863 0.643137 0.376471]",
                              @"seagreen" : @"[0.180392 0.545098 0.341176]",
                              @"seagreen1" : @"[0.329412 1 0.623529]",
                              @"seagreen2" : @"[0.305882 0.933333 0.580392]",
                              @"seagreen3" : @"[0.262745 0.803922 0.501961]",
                              @"seagreen4" : @"[0.180392 0.545098 0.341176]",
                              @"seashell" : @"[1 0.960784 0.933333]",
                              @"seashell1" : @"[1 0.960784 0.933333]",
                              @"seashell2" : @"[0.933333 0.898039 0.870588]",
                              @"seashell3" : @"[0.803922 0.772549 0.74902]",
                              @"seashell4" : @"[0.545098 0.52549 0.509804]",
                              @"sienna" : @"[0.627451 0.321569 0.176471]",
                              @"sienna1" : @"[1 0.509804 0.278431]",
                              @"sienna2" : @"[0.933333 0.47451 0.258824]",
                              @"sienna3" : @"[0.803922 0.407843 0.223529]",
                              @"sienna4" : @"[0.545098 0.278431 0.14902]",
                              @"silver" : @"[0.75 0.75 0.75]",
                              @"skyblue" : @"[0.529412 0.807843 0.921569]",
                              @"skyblue1" : @"[0.529412 0.807843 1]",
                              @"skyblue2" : @"[0.494118 0.752941 0.933333]",
                              @"skyblue3" : @"[0.423529 0.65098 0.803922]",
                              @"skyblue4" : @"[0.290196 0.439216 0.545098]",
                              @"slateblue" : @"[0.415686 0.352941 0.803922]",
                              @"slateblue1" : @"[0.513725 0.435294 1]",
                              @"slateblue2" : @"[0.478431 0.403922 0.933333]",
                              @"slateblue3" : @"[0.411765 0.34902 0.803922]",
                              @"slateblue4" : @"[0.278431 0.235294 0.545098]",
                              @"slategray" : @"[0.439216 0.501961 0.564706]",
                              @"slategray1" : @"[0.776471 0.886275 1]",
                              @"slategray2" : @"[0.72549 0.827451 0.933333]",
                              @"slategray3" : @"[0.623529 0.713725 0.803922]",
                              @"slategray4" : @"[0.423529 0.482353 0.545098]",
                              @"slategrey" : @"[0.439216 0.501961 0.564706]",
                              @"snow" : @"[1 0.980392 0.980392]",
                              @"snow1" : @"[1 0.980392 0.980392]",
                              @"snow2" : @"[0.933333 0.913725 0.913725]",
                              @"snow3" : @"[0.803922 0.788235 0.788235]",
                              @"snow4" : @"[0.545098 0.537255 0.537255]",
                              @"springgreen" : @"[0 1 0.498039]",
                              @"springgreen1" : @"[0 1 0.498039]",
                              @"springgreen2" : @"[0 0.933333 0.462745]",
                              @"springgreen3" : @"[0 0.803922 0.4]",
                              @"springgreen4" : @"[0 0.545098 0.270588]",
                              @"steelblue" : @"[0.27451 0.509804 0.705882]",
                              @"steelblue1" : @"[0.388235 0.721569 1]",
                              @"steelblue2" : @"[0.360784 0.67451 0.933333]",
                              @"steelblue3" : @"[0.309804 0.580392 0.803922]",
                              @"steelblue4" : @"[0.211765 0.392157 0.545098]",
                              @"tan" : @"[0.823529 0.705882 0.54902]",
                              @"tan1" : @"[1 0.647059 0.309804]",
                              @"tan2" : @"[0.933333 0.603922 0.286275]",
                              @"tan3" : @"[0.803922 0.521569 0.247059]",
                              @"tan4" : @"[0.545098 0.352941 0.168627]",
                              @"thistle" : @"[0.847059 0.74902 0.847059]",
                              @"thistle1" : @"[1 0.882353 1]",
                              @"thistle2" : @"[0.933333 0.823529 0.933333]",
                              @"thistle3" : @"[0.803922 0.709804 0.803922]",
                              @"thistle4" : @"[0.545098 0.482353 0.545098]",
                              @"tomato" : @"[1 0.388235 0.278431]",
                              @"tomato1" : @"[1 0.388235 0.278431]",
                              @"tomato2" : @"[0.933333 0.360784 0.258824]",
                              @"tomato3" : @"[0.803922 0.309804 0.223529]",
                              @"tomato4" : @"[0.545098 0.211765 0.14902]",
                              @"turquoise" : @"[0.25098 0.878431 0.815686]",
                              @"turquoise1" : @"[0 0.960784 1]",
                              @"turquoise2" : @"[0 0.898039 0.933333]",
                              @"turquoise3" : @"[0 0.772549 0.803922]",
                              @"turquoise4" : @"[0 0.52549 0.545098]",
                              @"violet" : @"[0.933333 0.509804 0.933333]",
                              @"violetred" : @"[0.815686 0.12549 0.564706]",
                              @"violetred1" : @"[1 0.243137 0.588235]",
                              @"violetred2" : @"[0.933333 0.227451 0.54902]",
                              @"violetred3" : @"[0.803922 0.196078 0.470588]",
                              @"violetred4" : @"[0.545098 0.133333 0.321569]",
                              @"wheat" : @"[0.960784 0.870588 0.701961]",
                              @"wheat1" : @"[1 0.905882 0.729412]",
                              @"wheat2" : @"[0.933333 0.847059 0.682353]",
                              @"wheat3" : @"[0.803922 0.729412 0.588235]",
                              @"wheat4" : @"[0.545098 0.494118 0.4]",
                              @"white" : @"[1 1 1]",
                              @"whitesmoke" : @"[0.960784 0.960784 0.960784]",
                              @"yellow" : @"[1 1 0]",
                              @"yellow1" : @"[1 1 0]",
                              @"yellow2" : @"[0.933333 0.933333 0]",
                              @"yellow3" : @"[0.803922 0.803922 0]",
                              @"yellow4" : @"[0.545098 0.545098 0]",
                              @"yellowgreen" : @"[0.603922 0.803922 0.196078]",
                              };
    NSString * vectorString = [colors objectForKey:colorname];
    if ( vectorString == nil) { return nil; }
    CIVector * vector = [CIVector vectorWithString:vectorString];
    CIColor * this = nil;
    if (vectorString) {
        this = [CIColor colorWithRed:vector.X
                               green:vector.Y
                                blue:vector.Z
                               alpha:1.0];
    }
    return this;
}

+(CIColor *)colorWithHue:(CGFloat)hue saturation:(CGFloat)saturation brightness:(CGFloat)brightness alpha:(CGFloat)alpha
{
    NSColor * tmp = [NSColor colorWithHue:hue
                               saturation:saturation
                               brightness:brightness
                                    alpha:alpha];
    return [CIColor colorWithRed:[tmp redComponent]
                           green:[tmp greenComponent]
                            blue:[tmp blueComponent]
                           alpha:[tmp alphaComponent]];
}

+(CIColor *)colorWithHexString:(NSString *)hexTriplet
{
    CGFloat R,G,B,A;
    CIColor * color = nil;
    long length = [hexTriplet length];
    if ( length == 3 ) {
        // RGB
        R = fourBitToDouble([hexTriplet substringWithRange:NSMakeRange(0,1)]);
        G = fourBitToDouble([hexTriplet substringWithRange:NSMakeRange(1,1)]);
        B = fourBitToDouble([hexTriplet substringWithRange:NSMakeRange(2,1)]);
        color = [CIColor colorWithRed:R green:G blue:B];
    } else if ( length == 6 ) {
        // RRGGBB
        R = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(0,2)]);
        G = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(2,2)]);
        B = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(4,2)]);
        color = [CIColor colorWithRed:R green:G blue:B];
    } else if ( length == 8 ) {
        // RRGGBBAA
        R = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(0,2)]);
        G = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(2,2)]);
        B = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(4,2)]);
        A = eightBitToDouble([hexTriplet substringWithRange:NSMakeRange(6,2)]);
        color = [CIColor colorWithRed:R green:G blue:B alpha:A];
    }
    return color;
}
+(CIColor *)colorWithRgbString:(NSString *)rgbString
{
    NSArray * parts = colorFunctionToArray(rgbString);
    NSString * chunk = [parts objectAtIndex:0];
    CIColor * color = nil;
    CGFloat R,G,B,A;
    if ([chunk isEqualToString:@"rgba"] && [parts count] == 5) {
        R = quantizeNumber([parts objectAtIndex:1], @255);
        G = quantizeNumber([parts objectAtIndex:2], @255);
        B = quantizeNumber([parts objectAtIndex:3], @255);
        A = quantizeNumber([parts objectAtIndex:4], @255);
        color = [CIColor colorWithRed:R green:G blue:B alpha:A];
    } else if ([chunk isEqualToString:@"rgb"] && [parts count] == 4) {
        R = quantizeNumber([parts objectAtIndex:1], @255);
        G = quantizeNumber([parts objectAtIndex:2], @255);
        B = quantizeNumber([parts objectAtIndex:3], @255);
        color = [CIColor colorWithRed:R green:G blue:B];
    }
    return color;
}
+(CIColor *)colorWithHslString:(NSString *)hslString
{
    NSArray * parts = colorFunctionToArray(hslString);
    NSString * chunk = [parts objectAtIndex:0];
    CIColor * color = nil;
    CGFloat H,S,L,A;
    if ([chunk isEqualToString:@"hsla"] && [parts count] == 5) {
        H = quantizeNumber([parts objectAtIndex:1], @360);
        S = quantizeNumber([parts objectAtIndex:2], @100);
        L = quantizeNumber([parts objectAtIndex:3], @100);
        A = quantizeNumber([parts objectAtIndex:4], @1);
        color = [CIColor colorWithHue:H saturation:S brightness:L alpha:A];
    } else if ([chunk isEqualToString:@"hsl"] && [parts count] == 4) {
        H = quantizeNumber([parts objectAtIndex:1], @360);
        S = quantizeNumber([parts objectAtIndex:2], @100);
        L = quantizeNumber([parts objectAtIndex:3], @100);
        color = [CIColor colorWithHue:H saturation:S brightness:L alpha:1.0];
    }
    return color;
}
@end